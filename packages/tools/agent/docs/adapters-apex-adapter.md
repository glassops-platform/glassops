---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/apex-adapter.ts
last_modified: 2026-01-31
generated: true
source: packages/tools/agent/src/adapters/apex-adapter.ts
generated_at: 2026-01-31T09:19:28.686681
hash: bf5aa959825ccecf68ff871bcacc77fb8428a3e5e8906ab4e51a0b6bce76c81d
---

## Apex Adapter Documentation

**1. Introduction**

This document details the Apex Adapter, a component designed to process Salesforce Apex code files (.cls and .trigger) and prepare them for analysis and documentation generation. It functions as an interface between the core agent system and Apex-specific file types.

**2. Functionality Overview**

The Apex Adapter provides the following core capabilities:

*   **File Type Recognition:** Determines if a given file is an Apex class or trigger based on its file extension.
*   **Content Extraction:** Reads the content of Apex files.
*   **Prompt Generation:** Constructs a prompt tailored for large language models (LLMs) to produce relevant documentation.
*   **Output Formatting:** Combines LLM outputs into a cohesive, readable format.

**3. Technical Details**

The adapter implements the `AgentAdapter` interface, requiring it to provide specific methods for handling files.

*   **`canHandle(fileName: string): boolean`**: This method checks if the adapter should process a file based on its extension. It returns `true` for files ending in `.cls` or `.trigger`, and `false` otherwise.
*   **`parse(filePath: string, content: string): Promise<string[]>`**: This asynchronous method takes the file path and content as input. It formats the content into a string array suitable for inclusion in a prompt. The output includes the file path and the Apex code itself, enclosed in a code block.
*   **`generatePrompt(filePath: string, parsedContent: string): string`**: This method creates a prompt for an LLM. The prompt instructs the LLM to act as a Salesforce Architect and generate technical documentation focusing on business logic, triggers, and security considerations. It includes the parsed content of the Apex file.
*   **`postProcess(filePath: string, outputs: string[]): string`**: This method takes the outputs generated by the LLM (as a string array) and combines them into a single string, separated by double newlines. This ensures a clean and organized final documentation output.

**4. Usage Instructions**

To use the Apex Adapter:

1.  Ensure the agent system is configured to recognize and load this adapter.
2.  Provide the adapter with the file path to an Apex class or trigger.
3.  The adapter will handle the file, prepare the content, generate a prompt, and process the LLMâ€™s response to produce documentation.

**5. Dependencies**

*   `path`: Node.js built-in module for handling file paths.
*   `AgentAdapter` interface: Defines the required methods for all adapters.

**6. Output Format**

The final output is a single string containing the formatted documentation generated by the LLM, preceded by the file path and Apex code content. The documentation is structured to highlight business logic, trigger behavior, and security implications.