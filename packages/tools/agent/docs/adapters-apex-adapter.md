---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/apex-adapter.ts
last_modified: 2026-01-31
generated: true
source: packages/tools/agent/src/adapters/apex-adapter.ts
generated_at: 2026-01-31T10:16:12.998544
hash: bf5aa959825ccecf68ff871bcacc77fb8428a3e5e8906ab4e51a0b6bce76c81d
---

## Apex Adapter Documentation

**1. Introduction**

This document details the Apex Adapter, a component designed to process Salesforce Apex code files (.cls and .trigger) and prepare them for analysis and documentation generation. It functions as an interface between the core agent system and Apex-specific file handling.

**2. Functionality**

The Apex Adapter provides the following core capabilities:

*   **File Type Recognition:** Determines if a given file is an Apex class or trigger based on its extension.
*   **Content Parsing:** Extracts the content of Apex files.
*   **Prompt Generation:** Constructs a prompt tailored for a large language model (LLM), instructing it to generate technical documentation for the provided Apex code.
*   **Output Post-Processing:** Combines multiple outputs from the LLM into a single, formatted string.

**3. Adapter Details**

The Apex Adapter implements the `AgentAdapter` interface. This ensures consistent behavior across different file type adapters within the system.

**3.1. `canHandle(fileName: string): boolean`**

This function checks if the adapter can process a file based on its name. It returns `true` if the file has a `.cls` or `.trigger` extension; otherwise, it returns `false`.

*   **Parameter:**
    *   `fileName`: A string representing the name of the file.
*   **Return Value:** A boolean indicating whether the adapter can handle the file.

**3.2. `parse(filePath: string, content: string): Promise<string[]>`**

This asynchronous function takes the file path and content as input and formats the content into a structured string array. Each element in the array represents a segment of parsed content.

*   **Parameters:**
    *   `filePath`: A string representing the path to the file.
    *   `content`: A string containing the file's content.
*   **Return Value:** A Promise that resolves to a string array containing the parsed content. The content is formatted as follows:

    ```
    File: <filePath>

    Apex Code Content:
    ```apex
    <content>
    ```
    ```

**3.3. `generatePrompt(filePath: string, parsedContent: string): string`**

This function creates a prompt for an LLM, providing context and instructions for generating documentation. The prompt includes the parsed content of the Apex file.

*   **Parameters:**
    *   `filePath`: A string representing the path to the file.
    *   `parsedContent`: A string containing the parsed content of the file.
*   **Return Value:** A string representing the prompt for the LLM. The prompt instructs the LLM to act as a helper for a Salesforce Architect and generate technical documentation focusing on business logic, triggers, and security implications.

**3.4. `postProcess(filePath: string, outputs: string[]): string`**

This function combines the outputs generated by the LLM into a single string, separated by double newlines.

*   **Parameters:**
    *   `filePath`: A string representing the path to the file.
    *   `outputs`: A string array containing the outputs from the LLM.
*   **Return Value:** A string containing the combined outputs.

**4. Usage**

You integrate this adapter into the agent system by registering it for files with `.cls` or `.trigger` extensions. The agent will then use the adapter’s functions to parse the file, generate a prompt, and process the LLM’s response.

**5. Dependencies**

*   `path`: Node.js built-in module for working with file paths.
*   `AgentAdapter` interface: Defines the contract for all agent adapters.