---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/docker-adapter.ts
last_modified: 2026-02-01
generated: true
source: packages/tools/agent/src/adapters/docker-adapter.ts
generated_at: 2026-02-01T19:47:30.683756
hash: 098372ed82eb7d58e32e7edba32f2300351a37a4344df625a5893b16e48fc3bc
---

## Docker Adapter Documentation

**1. Introduction**

This document details the Docker Adapter, a component designed to process Dockerfile content and generate documentation. It functions as an adapter within a larger agent system, responsible for handling files specifically identified as Dockerfiles.

**2. Purpose**

The Docker Adapter enables automated documentation generation for Dockerfiles. It parses the Dockerfile content, prepares a prompt for a language model, and formats the resulting output for presentation.

**3. Core Functionality**

The adapter provides four primary functions:

*   **`canHandle(fileName: string): boolean`**: Determines if the adapter is capable of processing a given file based on its name. It returns `true` if the file name (case-insensitive) ends with “dockerfile”, and `false` otherwise.

*   **`parse(filePath: string, content: string): Promise<string[]>`**:  Parses the Dockerfile content. This function takes the file path and the file’s content as input. It returns a Promise that resolves to an array of strings, where each string represents a section of the parsed content. Currently, it formats the file path and content within a code block for inclusion in a prompt.

*   **`generatePrompt(filePath: string, parsedContent: string): string`**: Constructs a prompt to be sent to a language model. The prompt instructs the model to act as a DevOps Engineer and generate documentation for the provided Dockerfile content. The `parsedContent` is incorporated directly into the prompt.

*   **`postProcess(filePath: string, outputs: string[]): string`**:  Combines the outputs generated by the language model into a single string, separated by double newlines. This function takes the file path and an array of strings (the outputs) as input and returns a single string containing the combined output.

**4. Usage**

You integrate this adapter into a system that processes files. The system will call `canHandle` to determine if the adapter should process a specific file. If it can, the system will then call `parse` to obtain the parsed content, `generatePrompt` to create the prompt, and finally `postProcess` to format the language model’s response.

**5. Example**

Consider a Dockerfile located at `/path/to/Dockerfile` with the following content:

```dockerfile
FROM ubuntu:latest
RUN apt-get update && apt-get install -y nginx
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

The `parse` function would return an array containing a string similar to:

```
File: /path/to/Dockerfile

Dockerfile Content:
```dockerfile
FROM ubuntu:latest
RUN apt-get update && apt-get install -y nginx
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

The `generatePrompt` function would then construct a prompt including this content, instructing the language model to document the Dockerfile.

**6. Dependencies**

*   `path`: Node.js built-in module for file path manipulation.
*   `./interface.js`: Defines the `AgentAdapter` interface.

**7. Interface Compliance**

This adapter implements the `AgentAdapter` interface, ensuring compatibility with the broader agent system. This interface defines the required methods (`canHandle`, `parse`, `generatePrompt`, `postProcess`) for processing files.