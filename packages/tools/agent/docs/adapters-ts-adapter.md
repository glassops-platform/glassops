---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/ts-adapter.ts
last_modified: 2026-02-01
generated: true
source: packages/tools/agent/src/adapters/ts-adapter.ts
generated_at: 2026-02-01T19:49:37.188245
hash: 677402b4dbd30061884f6e58be907cc88b88aa6ec9b6239b698cf907d2e33ab3
---

## TypeScript/JavaScript Adapter Documentation

This document details the functionality of the TypeScript/JavaScript Adapter, a component designed to process TypeScript, JavaScript, and MJS files for documentation generation.

### Overview

The adapter serves as an interface between the core documentation system and source code files written in TypeScript or JavaScript. It determines if a file can be handled, extracts its content, prepares a prompt for a language model, and consolidates the results.

### Functionality

The adapter provides the following core functions:

#### `canHandle(fileName: string): boolean`

This function determines whether the adapter can process a given file based on its extension. 

*   **Input:** `fileName` (string) – The name of the file to check.
*   **Output:** `boolean` – Returns `true` if the file has a `.ts`, `.js`, or `.mjs` extension; otherwise, returns `false`.

   Example:
   ```typescript
   canHandle('myFile.ts'); // Returns true
   canHandle('index.html'); // Returns false
   ```

#### `parse(filePath: string, content: string): Promise<string[]>`

This asynchronous function extracts relevant information from the file content. Currently, it passes the file path and content directly. Future iterations may incorporate Abstract Syntax Tree (AST) parsing for more detailed docstring extraction.

*   **Input:**
    *   `filePath` (string) – The path to the file.
    *   `content` (string) – The content of the file.
*   **Output:** `Promise<string[]>` – A promise that resolves to an array of strings, each representing a parsed content segment.

   Example:
   ```typescript
   parse('/path/to/file.ts', 'const x = 1;');
   // Returns a Promise resolving to: ['File: /path/to/file.ts\n\nCode Content:\n```typescript\nconst x = 1;\n```']
   ```

#### `generatePrompt(filePath: string, parsedContent: string): string`

This function constructs a prompt to be sent to a language model. The prompt instructs the model to act as a principal architect and generate high-level documentation for the provided code.

*   **Input:**
    *   `filePath` (string) – The path to the file.
    *   `parsedContent` (string) – The parsed content of the file.
*   **Output:** `string` – The generated prompt.

#### `postProcess(filePath: string, outputs: string[]): string`

This function combines the outputs generated by the language model into a single string, separated by double newlines.

*   **Input:**
    *   `filePath` (string) – The path to the file.
    *   `outputs` (string[]) – An array of strings representing the outputs from the language model.
*   **Output:** `string` – A single string containing the combined outputs.

   Example:
   ```typescript
   postProcess('/path/to/file.ts', ['Output 1', 'Output 2']);
   // Returns: 'Output 1\n\nOutput 2'
   ```

### Usage

You can use this adapter within a larger documentation pipeline to automatically generate documentation for TypeScript and JavaScript codebases. The adapter handles file identification, content extraction, prompt generation, and output consolidation, streamlining the documentation process.