---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/interface.ts
last_modified: 2026-01-31
generated: true
source: packages/tools/agent/src/adapters/interface.ts
generated_at: 2026-01-31T10:16:50.275304
hash: f2768e9d45e206d7f00f3b4c1b4f1de47b4278b6f233c741457ec05cefe83842
---

## Agent Adapter Interface Documentation

This document details the `AgentAdapter` interface, defining the contract for components responsible for processing files within the system. Adapters enable the system to work with diverse file types and content structures.

### Overview

The `AgentAdapter` interface specifies a set of methods that any adapter must implement to integrate with the core processing pipeline. These methods handle file type identification, content parsing, prompt generation for language models, and post-processing of model outputs.

### Interface Definition

```typescript
export interface AgentAdapter {
  canHandle(fileName: string): boolean;
  parse(filePath: string, content: string): Promise<string[]>;
  generatePrompt(filePath: string, parsedContent: string): string;
  postProcess(filePath: string, outputs: string[]): string;
}
```

### Method Descriptions

#### `canHandle(fileName: string): boolean`

This method determines if the adapter is capable of processing a file based on its name (including extension). 

*   **Parameters:**
    *   `fileName`: A string representing the name of the file.
*   **Return Value:** A boolean value. `true` indicates the adapter can handle the file; `false` indicates it cannot.
*   **Usage:** You should implement this method to check the file extension or other relevant characteristics to determine compatibility.

#### `parse(filePath: string, content: string): Promise<string[]>`

This method parses the content of a file and transforms it into a structured format suitable for use with a language model. The method returns a Promise that resolves to an array of strings, allowing for the handling of large files through chunking.

*   **Parameters:**
    *   `filePath`: A string representing the path to the file.
    *   `content`: A string containing the file's content.
*   **Return Value:** A Promise resolving to a string array. Each string in the array represents a chunk of the parsed content.
*   **Usage:** I recommend implementing this method to extract relevant information from the file content and prepare it for prompt generation.

#### `generatePrompt(filePath: string, parsedContent: string): string`

This method constructs a prompt for a language model based on the parsed content of a file.

*   **Parameters:**
    *   `filePath`: A string representing the path to the file.
    *   `parsedContent`: A string representing the parsed content of the file.
*   **Return Value:** A string containing the generated prompt.
*   **Usage:** We expect this method to format the `parsedContent` into a prompt that instructs the language model to perform the desired task.

#### `postProcess(filePath: string, outputs: string[]): string`

This method performs post-processing on the output generated by a language model. This includes tasks such as formatting the output, resolving relative links, and joining chunks if the file was processed in parts.

*   **Parameters:**
    *   `filePath`: A string representing the path to the file.
    *   `outputs`: A string array containing the outputs from the language model.
*   **Return Value:** A string containing the final, post-processed output.
*   **Usage:** You should implement this method to refine the language model's output and ensure it is in the desired format. If the input file was chunked during parsing, this method is responsible for combining the outputs from each chunk into a single, coherent result.