---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/py-adapter.ts
last_modified: 2026-01-31
generated: true
source: packages/tools/agent/src/adapters/py-adapter.ts
generated_at: 2026-01-31T09:21:27.471613
hash: 8d2e85d94103c29d72984c3f34046684fc1ec3b7c96954d4cc1e5cd60a1b7e5f
---

## Python File Adapter Documentation

This document details the functionality of the Python File Adapter, a component designed to process Python files within a larger system. It serves as an interface between the core system and Python source code, preparing the code for analysis and documentation generation.

**1. Overview**

The Python File Adapter is responsible for identifying, parsing, and preparing Python files for further processing. It determines if a given file is a Python file, extracts its content, and formats it into a prompt suitable for a language model. The adapter also handles combining multiple outputs into a single, coherent result.

**2. Functionality**

The adapter provides the following core functions:

* **File Type Identification:** The `canHandle` function determines if a file should be processed by this adapter based on its file extension. It specifically identifies files with the `.py` extension.
* **Content Extraction:** The `parse` function reads the content of a Python file. Currently, it performs a simple pass-through, preserving the entire file content as a single string. Future versions will incorporate Python Abstract Syntax Tree (AST) parsing to enable more granular splitting of code into classes and functions.
* **Prompt Generation:** The `generatePrompt` function constructs a prompt for a language model. This prompt instructs the model to act as a principal engineer and Python expert, and to generate high-quality documentation for the provided Python code. The prompt includes the parsed file content.
* **Output Consolidation:** The `postProcess` function combines multiple outputs generated by the language model into a single string, separated by double newlines.

**3. Usage**

You interact with this adapter through its defined interface. The system will automatically call the appropriate functions based on the file type. 

1.  The system identifies a file with a `.py` extension.
2.  The `canHandle` function confirms the adapter’s suitability.
3.  The `parse` function extracts the file’s content.
4.  The `generatePrompt` function creates a prompt containing the file content and instructions for documentation generation.
5.  The prompt is sent to a language model.
6.  The language model generates documentation.
7.  The `postProcess` function combines any multiple outputs from the language model into a single, formatted string.

**4. Future Enhancements**

We plan to enhance the `parse` function to leverage Python’s AST to provide more structured code analysis. This will allow for the generation of documentation focused on specific classes, functions, and modules within the Python file. This will improve the quality and relevance of the generated documentation.

**5. Interface**

The adapter implements the `AgentAdapter` interface, requiring the following methods:

*   `canHandle(fileName: string): boolean`
*   `parse(filePath: string, content: string): Promise<string[]>`
*   `generatePrompt(filePath: string, parsedContent: string): string`
*   `postProcess(filePath: string, outputs: string[]): string`