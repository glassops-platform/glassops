---
type: Documentation
domain: agent
origin: packages/tools/agent/src/adapters/md-adapter.ts
last_modified: 2026-01-26
generated: true
source: packages/tools/agent/src/adapters/md-adapter.ts
generated_at: 2026-01-26T14:23:37.476Z
hash: a247f35e47722bf910389f9d261de044ee583eb870607e875061af0431e80d86
---

## Markdown Adapter Documentation

**Overview**

This document details the functionality of the Markdown Adapter, a component designed to process Markdown files for use with an agent-based system. The adapter prepares Markdown content by parsing it into manageable chunks and formulating prompts for refinement by a language model.

**Purpose**

The Markdown Adapter serves as an interface between the agent and Markdown documents. It handles file type identification, content parsing, prompt generation, and post-processing of outputs. This allows the agent to effectively analyze and improve Markdown-based documentation.

**Functionality**

The adapter provides the following core functions:

*   **File Type Handling:** Determines if the adapter can process a given file based on its extension. It specifically handles files with the `.md` extension.
*   **Content Parsing:** Reads the content of a Markdown file and divides it into smaller sections, or chunks, suitable for processing. The adapter intelligently splits the content at section headers (lines starting with one or more `#` characters). Chunk size is dynamically managed to be approximately 10KB.
*   **Prompt Generation:** Constructs a prompt for a language model, instructing it to refine and improve the provided Markdown content. The prompt emphasizes maintaining the original intent, technical accuracy, and clarity of the documentation, while ensuring accessibility to both technical and non-technical readers. It also directs the model to check for clarity, broken links, and consistency with a “Container-First” platform vision.
*   **Post-Processing:** Cleans up the output generated by the language model by removing any surrounding Markdown code fences (```markdown and ```).

**Technical Details**

*   **Interface:** Implements the `AgentAdapter` interface, ensuring compatibility with the agent system.
*   **Chunking Strategy:** Splits Markdown content based on section headers to preserve document structure.
*   **Prompt Structure:** The generated prompt is designed to elicit a comprehensive revision of the documentation, not a simple summary.
*   **Error Handling:** The adapter filters empty sections during parsing to prevent issues.

**Usage**

You can integrate this adapter into your agent workflow by:

1.  Instantiating the `MarkdownAdapter`.
2.  Calling the `canHandle()` method to verify if the adapter supports the file type.
3.  Using the `parse()` method to split the file content into chunks.
4.  Employing the `generatePrompt()` method to create a prompt for the language model.
5.  Applying the `postProcess()` method to the language model’s output to remove code fencing.

**Output**

The adapter returns an array of strings, where each string represents a chunk of the original Markdown content, pre-formatted with a file path header. The `postProcess` function returns a single string containing the combined, cleaned output from the language model.